########################################
##### WL#7554 Force schema `test` to character set latin1
##### This test should be migrated to utf8mb4
--disable_query_log
let $testdbcs182=`select default_character_set_name from information_schema.schemata where schema_name='test'`;
drop schema test;
create schema test character set latin1;
use test;
--enable_query_log
########################################

# Test needs myisam for some myisam specific testcases
--source include/have_myisam.inc
--echo #
--echo # Test of function defaults for any server, including embedded.
--echo # We run the same tests with different settings for better coverage.
--echo #

--echo #
--echo # Function defaults run 1. No microsecond precision. MyISAM.
--echo #
set default_storage_engine=myisam;
let $current_timestamp=CURRENT_TIMESTAMP;
let $now=NOW();
let $timestamp=TIMESTAMP;
let $datetime=DATETIME;
source 'include/function_defaults.inc';

--echo #
--echo # Function defaults run 2. Six digits scale on seconds
--echo # precision. InnoDB.
--echo #
set default_storage_engine=innodb;
let $current_timestamp=CURRENT_TIMESTAMP(6);
let $now=NOW(6);
let $timestamp=TIMESTAMP(6);
let $datetime=DATETIME(6);
source 'include/function_defaults.inc';

########################################
##### WL#7554 set schema `test` back to what it was
--disable_query_log
drop schema test;
--eval create schema test character set $testdbcs182;
--enable_query_log
########################################
