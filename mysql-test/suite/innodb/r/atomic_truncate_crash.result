CREATE TABLE t2 ( a int);
INSERT INTO t2 VALUES(10);
INSERT INTO t2 VALUES(11);
set session debug = "+d,ib_truncate_crash_after_rename";
TRUNCATE TABLE t2;
ERROR HY000: Lost connection to MySQL server during query
# restart
SELECT * FROM t2;
a
10
11
set session debug = "+d,ib_truncate_crash_after_drop_old_table";
truncate table t2;
ERROR HY000: Lost connection to MySQL server during query
# restart
SELECT * FROM t2;
a
10
11
set session debug = "+d,ib_truncate_crash_after_create_new_table";
truncate table t2;
ERROR HY000: Lost connection to MySQL server during query
# restart
SELECT * FROM t2;
a
10
11
set session debug = "+d,ib_truncate_crash_after_innodb_complete";
truncate table t2;
ERROR HY000: Lost connection to MySQL server during query
# restart
SELECT * FROM t2;
a
10
11
set session debug = "+d,ib_truncate_rollback_test";
truncate table t2;
ERROR HY000: Got error 168 - 'Unknown (generic) error from engine' from storage engine
SELECT * FROM t2;
a
10
11
DROP TABLE t2;
