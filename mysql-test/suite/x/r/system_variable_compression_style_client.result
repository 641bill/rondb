##############################################
## Mysqlx_compression_client_style = default (single,multiple,group)

SET GLOBAL Mysqlx_compression_client_style = DEFAULT;
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "single"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "multiple"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "group"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Ok {
}

ok
compression_style = multiple
Mysqlx.Ok {
}

ok
compression_style = group
Mysqlx.Ok {
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = single

SET GLOBAL Mysqlx_compression_client_style = single;
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "single"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Ok {
}

ok
compression_style = multiple
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = group
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = multiple

SET GLOBAL Mysqlx_compression_client_style = multiple;
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "multiple"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = multiple
Mysqlx.Ok {
}

ok
compression_style = group
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = group

SET GLOBAL Mysqlx_compression_client_style = 'group';
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "group"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = multiple
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = group
Mysqlx.Ok {
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = single,multiple

SET GLOBAL Mysqlx_compression_client_style = 'single,multiple';
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "single"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "multiple"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Ok {
}

ok
compression_style = multiple
Mysqlx.Ok {
}

ok
compression_style = group
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = single,group

SET GLOBAL Mysqlx_compression_client_style = 'single,group';
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "single"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "group"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Ok {
}

ok
compression_style = multiple
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = group
Mysqlx.Ok {
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = multiple,group

SET GLOBAL Mysqlx_compression_client_style = 'multiple,group';
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "multiple"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "group"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = multiple
Mysqlx.Ok {
}

ok
compression_style = group
Mysqlx.Ok {
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = single,multiple,group

SET GLOBAL Mysqlx_compression_client_style = 'single,multiple,group';
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "single"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "multiple"
          }
        }
      }
      value {
        type: SCALAR
        scalar {
          type: V_STRING
          v_string {
            value: "group"
          }
        }
      }
    }
  }
}

ok
compression_style = single
Mysqlx.Ok {
}

ok
compression_style = multiple
Mysqlx.Ok {
}

ok
compression_style = group
Mysqlx.Ok {
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
##############################################
## Mysqlx_compression_client_style = empty

SET GLOBAL Mysqlx_compression_client_style = '';
send Mysqlx.Connection.CapabilitiesGet {
}

Mysqlx.Connection.Capabilities(capabilities[4].value.obj.fld[2]) = Mysqlx.Datatypes.Object.ObjectField {
  key: "client_style"
  value {
    type: ARRAY
    array {
    }
  }
}

ok
compression_style = single
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = multiple
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = group
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
compression_style = wrong_name
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

ok
SET GLOBAL Mysqlx_compression_client_style = DEFAULT;
