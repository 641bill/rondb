SET GLOBAL Mysqlx_compression_server_style = 'single,multiple,group';

One key/value
=============

##########################################################
## Scenario: algorithm=deflate
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=lz4
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=multiple
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=group
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: client_style=multiple
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: client_style=group
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}


Two key/value's
===============

##########################################################
## Scenario: algorithm=deflate, server_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=multiple
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=group
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=deflate, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, client_style=multiple
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, client_style=group
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=lz4, server_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=multiple
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=group
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=lz4, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, client_style=multiple
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, client_style=group
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=single, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=multiple, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=group, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=WRONG, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=single, client_style=multiple
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=multiple, client_style=multiple
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=group, client_style=multiple
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=WRONG, client_style=multiple
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=single, client_style=group
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=multiple, client_style=group
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=group, client_style=group
Mysqlx.Error {
  severity: ERROR
  code: 5179
  msg: "The algorithm and at least one style is required for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=WRONG, client_style=group
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=single, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=multiple, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=group, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: server_style=WRONG, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}


Three key/value's
=================

##########################################################
## Scenario: algorithm=deflate, server_style=single, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=single, client_style=multiple
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=single, client_style=group
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=single, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=deflate, server_style=multiple, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=group, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=deflate, server_style=WRONG, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=lz4, server_style=single, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=single, client_style=multiple
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=single, client_style=group
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=single, client_style=WRONG
Mysqlx.Error {
  severity: ERROR
  code: 5177
  msg: "Invalid or unsupported value for \'compression.client_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=lz4, server_style=multiple, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=group, client_style=single
Mysqlx.Ok {
}

##########################################################
## Scenario: algorithm=lz4, server_style=WRONG, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5176
  msg: "Invalid or unsupported value for \'compression.server_style\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=WRONG, server_style=single, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5175
  msg: "Invalid or unsupported value for \'compression.algorithm\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: WRONG=deflate, server_style=single, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5178
  msg: "Invalid or unsupported option for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=deflate, WRONG=single, client_style=single
Mysqlx.Error {
  severity: ERROR
  code: 5178
  msg: "Invalid or unsupported option for \'compression\'"
  sql_state: "HY000"
}

##########################################################
## Scenario: algorithm=deflate, server_style=single, WRONG=single
Mysqlx.Error {
  severity: ERROR
  code: 5178
  msg: "Invalid or unsupported option for \'compression\'"
  sql_state: "HY000"
}

ok
SET GLOBAL Mysqlx_compression_server_style = DEFAULT;
