SET NAMES utf8mb4 COLLATE utf8mb4_0900_as_ci;
set @euro64 = repeat(_utf8 x'E282AC', 64);
set @euro37 = repeat(_utf8 x'E282AC', 37);
set @query = concat("drop database if exists ", @euro37);
select @query;
@query
drop database if exists €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
prepare stmt from @query;
execute stmt;
drop prepare stmt;
set @query = concat("create database ", @euro37);
select @query;
@query
create database €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
prepare stmt from @query;
execute stmt;
drop prepare stmt;
set @query = concat("create table ", @euro37, ".", @euro37,
"(a integer, bb integer, ", @euro64, " integer)");
select @query;
@query
create table €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€.€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€(a integer, bb integer, €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€ integer)
prepare stmt from @query;
execute stmt;
drop prepare stmt;
set @query = concat("insert into ", @euro37, ".", @euro37,
" values (1, 2, 3)");
select @query;
@query
insert into €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€.€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€ values (1, 2, 3)
prepare stmt from @query;
execute stmt;
drop prepare stmt;
begin;
set @query = concat("select * from ", @euro37, ".", @euro37);
select @query;
@query
select * from €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€.€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
prepare stmt from @query;
execute stmt;
a	bb	€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
1	2	3
drop prepare stmt;
select OBJECT_TYPE, OBJECT_SCHEMA, OBJECT_NAME, COLUMN_NAME,
LOCK_TYPE, LOCK_DURATION, LOCK_STATUS
from performance_schema.metadata_locks
order by OBJECT_TYPE, OBJECT_SCHEMA, OBJECT_NAME, COLUMN_NAME,
LOCK_TYPE, LOCK_DURATION, LOCK_STATUS;
OBJECT_TYPE	OBJECT_SCHEMA	OBJECT_NAME	COLUMN_NAME	LOCK_TYPE	LOCK_DURATION	LOCK_STATUS
COLUMN STATISTICS	performance_schema	metadata_locks	column_name	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	lock_duration	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	lock_status	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	lock_type	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	object_instance_begin	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	object_name	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	object_schema	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	object_type	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	owner_event_id	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	owner_thread_id	SHARED_READ	STATEMENT	GRANTED
COLUMN STATISTICS	performance_schema	metadata_locks	source	SHARED_READ	STATEMENT	GRANTED
SCHEMA	performance_schema	NULL	NULL	INTENTION_EXCLUSIVE	TRANSACTION	GRANTED
TABLE	performance_schema	metadata_locks	NULL	SHARED_READ	TRANSACTION	GRANTED
TABLE	€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€	€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€	NULL	SHARED_READ	TRANSACTION	GRANTED
commit;
set @query = concat("drop table ", @euro37, ".", @euro37);
select @query;
@query
drop table €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€.€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
prepare stmt from @query;
execute stmt;
drop prepare stmt;
set @query = concat("drop schema ", @euro37);
select @query;
@query
drop schema €€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€€
prepare stmt from @query;
execute stmt;
drop prepare stmt;
